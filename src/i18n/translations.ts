export type Locale = 'ko' | 'en'

const exactMap: Record<string, string> = {
  '대시보드': 'Dashboard',
  '입고 관리': 'Inbound Management',
  '출고 관리': 'Outbound Management',
  '재고 현황': 'Inventory',
  '품목 등록': 'Item Registration',
  '재고 통제': 'Stock Control',
  '반품 관리': 'Returns Management',
  '웨이브 피킹': 'Wave Picking',
  'SLA 모니터': 'SLA Monitor',
  '재고 실사': 'Cycle Count',
  '마스터 관리': 'Master Data',
  '운영 리포트': 'Operations Report',
  '페이지 로직 설명': 'Page Logic Guide',
  '운영 대시보드': 'Operations Dashboard',
  '입고예정': 'Scheduled',
  '검수중': 'Inspecting',
  '완료': 'Completed',
  '불량': 'Defect',
  '출고대기': 'Pending',
  '피킹중': 'Picking',
  '패킹중': 'Packing',
  '출하완료': 'Shipped',
  '취소': 'Canceled',
  '전체': 'All',
  '처리': 'Process',
  '상세': 'Detail',
  '검수': 'Inspect',
  '검수 시작': 'Start Inspection',
  '검수 완료': 'Complete Inspection',
  '발주 생성': 'Create PO',
  '수주 생성': 'Create SO',
  '발주 등록': 'Register PO',
  '등록': 'Register',
  '생성': 'Create',
  '추가': 'Add',
  '종결': 'Close',
  '진행중': 'In Progress',
  '고객사': 'Customer',
  '거래처': 'Vendor',
  '공급사': 'Supplier',
  '운송사': 'Carrier',
  '품목': 'Item',
  '품목명': 'Item Name',
  '카테고리': 'Category',
  '현재고 (EA)': 'On-hand (EA)',
  '안전재고 (EA)': 'Safety Stock (EA)',
  '마지막 이동일': 'Last Moved Date',
  '요청일': 'Requested Date',
  '요청 출고일': 'Requested Ship Date',
  '반품 사유': 'Return Reason',
  '반품 수량': 'Return Qty',
  '요청 수량': 'Requested Qty',
  '우선순위': 'Priority',
  '높음': 'High',
  '보통': 'Normal',
  '낮음': 'Low',
  '포장 박스 수': 'Box Count',
  '총 중량 (kg)': 'Total Weight (kg)',
  '운송장 번호': 'Tracking Number',
  '출하 완료': 'Shipment Completed',
  '주문 취소': 'Cancel Order',
  '주문 취소됨': 'Order Canceled',
  '예약 재고가 자동 해제되었습니다.': 'Reserved stock has been released automatically.',
  '수주번호': 'SO No.',
  '발주번호': 'PO No.',
  '고객': 'Customer',
  '선택': 'Select',
  '선택 웨이브 시작': 'Start Selected Wave',
  '웨이브': 'Wave',
  '생성일': 'Created At',
  '주문수': 'Order Count',
  '상태': 'Status',
  '처리 대기': 'Pending Tasks',
  '오늘 입고': 'Today Inbound',
  '오늘 출고': 'Today Outbound',
  '전체 SKU': 'Total SKU',
  '전일 대비': 'vs Yesterday',
  '주간 입출고 추이': 'Weekly Inbound/Outbound Trend',
  '재고 카테고리 분포': 'Inventory Category Distribution',
  '최근 입고 내역': 'Recent Inbound',
  '출고 대기 목록': 'Pending Outbound List',
  '알림': 'Alerts',
  'SLA 위반 건이 없습니다': 'No SLA violations',
  '검색 결과가 없습니다': 'No search results',
  '출고대기 주문이 없습니다': 'No pending outbound orders',
  '생성된 웨이브가 없습니다': 'No waves created',
  '해당 상태의 출고 건이 없습니다': 'No outbound orders in this status',
  '표시할 알림이 없습니다': 'No alerts to display',
  '품목 저장': 'Save Item',
  '재고 목록': 'Inventory List',
  '바로 가기': 'Go',
  '대시보드 바로가기': 'Go to Dashboard',
  '주요 기능': 'Key Features',
  '업무 흐름': 'Workflow',
  '기술 스택': 'Tech Stack',
  '도움말': 'Help',
  '리포팅': 'Reporting',
  '기준정보': 'Master Data',
  '운영 품질': 'Operation Quality',
  '센터 운영': 'Center Ops',
  'CS 연동': 'CS Linked',
  '통제 업무': 'Control Task',
  '실시간 현황': 'Real-time Status',
  '로직 설명': 'Logic Guide',
  '맞춤설정': 'Customization',
  '수익화': 'Monetization',
  '극대화': 'Maximize',
  '입고': 'Inbound',
  '출고': 'Outbound',
  '반품': 'Returns',
  '실사': 'Cycle Count',
  '총 위반': 'Total Violations',
  '경고': 'Warning',
  '치명': 'Critical',
  '구분': 'Type',
  '업무번호': 'Task ID',
  '담당/고객': 'Owner/Customer',
  '기준일': 'Base Date',
  '지연일': 'Overdue',
  '심각도': 'Severity',
  '룰': 'Rule',
  '정상': 'Normal',
  '수량은 0 이상이어야 합니다.': 'Quantity must be 0 or higher.',
  'SKU와 품목명을 입력하세요.': 'Please enter SKU and item name.',
  'SKU 형식은 SKU-0001 형태로 입력하세요.': 'SKU format must be like SKU-0001.',
  '이미 등록된 SKU입니다.': 'SKU is already registered.',
  '재고가 부족합니다.': 'Insufficient stock.',
  '발주번호, 거래처 검색': 'Search PO number or vendor',
  '전체 상태': 'All Statuses',
  '운송사:': 'Carrier:',
  '운송장:': 'Tracking:'
}

const replacements: Array<[RegExp, string]> = [
  [/총 (\\d+)건/g, 'Total $1'],
  [/([A-Z]{2}-\\d{8}) 입고 지연 \+(\\d+)일/g, '$1 inbound delayed +$2d'],
  [/([A-Z]{2}-\\d{8}) 출고 SLA 지연 \+(\\d+)일/g, '$1 outbound SLA delayed +$2d'],
  [/([A-Z]{2}-\\d{8}) 반품 SLA 지연 \+(\\d+)일/g, '$1 return SLA delayed +$2d'],
  [/([A-Z]{2}-\\d{8}) 실사 지연 \+(\\d+)일/g, '$1 cycle count delayed +$2d'],
  [/안전재고 미달/g, 'below safety stock'],
  [/현재 (\\d+) \/ 안전 (\\d+)/g, 'current $1 / safety $2'],
  [/외 (\\d+)건/g, '+$1 more'],
  [/\+(\\d+)일/g, '+$1d'],
  [/([A-Z0-9-]+) 주문 취소/g, '$1 order canceled'],
  [/([A-Z0-9-]+) 입고 반영/g, '$1 inbound reflected'],
  [/([A-Z0-9-]+) 실사 조정/g, '$1 cycle adjustment'],
  [/웨이브 시작 완료: (\\d+)건/g, 'Wave started: $1'],
  [/웨이브 일부 실패 \((\\d+)건 시작 \/ (\\d+)건 실패\): /g, 'Wave partial failure ($1 started / $2 failed): '],
  [/가용 (\\d+) EA/g, 'Available $1 EA'],
  [/([A-Z]{3}-\\d{4}) 실사 조정/g, '$1 cycle adjustment']
]

const properNouns: Record<string, string> = {
  '삼성전자': 'Samsung Electronics',
  'LG전자': 'LG Electronics',
  '현대모비스': 'Hyundai Mobis',
  '풀무원': 'Pulmuone',
  '나이키코리아': 'Nike Korea',
  '아모레퍼시픽': 'Amorepacific',
  '오뚜기': 'Ottogi',
  'SK하이닉스': 'SK hynix',
  '애플코리아': 'Apple Korea',
  '다이슨': 'Dyson',
  '쿠팡': 'Coupang',
  '11번가': '11st',
  '네이버쇼핑': 'Naver Shopping',
  'SSG닷컴': 'SSG.COM',
  '무신사': 'MUSINSA',
  '컬리': 'Kurly',
  '롯데온': 'Lotte ON',
  '티몬': 'TMON',
  'CJ대한통운': 'CJ Logistics',
  '한진택배': 'Hanjin',
  '롯데택배': 'Lotte Delivery',
  '우체국택배': 'Korea Post',
  '로젠택배': 'Logen',
  '갤럭시 버즈': 'Galaxy Buds',
  '무선충전기': 'Wireless Charger',
  '자동차 배터리': 'Car Battery',
  '두부 세트': 'Tofu Set',
  '콩나물': 'Bean Sprouts',
  '에어맥스 270': 'Air Max 270',
  '설화수 윤조에센스': 'Sulwhasoo First Care Serum',
  '3분 카레': '3-Min Curry',
  '진라면': 'Jin Ramen',
  'DDR5 메모리': 'DDR5 Memory',
  '아이스크림 박스': 'Ice Cream Box',
  '태양광 패널': 'Solar Panel',
  '정수기 필터': 'Water Purifier Filter',
  '청소기 V15': 'Vacuum V15',
  '노브랜드 생수': 'No Brand Water',
  '여성 재킷': 'Women\'s Jacket',
  '선물세트 A': 'Gift Set A',
  '선물세트 B': 'Gift Set B',
  '햇반': 'Cooked Rice Pack',
  'AirPods Pro': 'AirPods Pro',
  '참이슬 박스': 'Soju Box',
  '화장지 100롤': 'Toilet Paper 100-roll',
  '단순 변심': 'Changed mind',
  '사이즈 불만족': 'Size issue',
  '포장 훼손': 'Damaged packaging',
  '제품 불량': 'Defective product',
  '전자부품': 'Electronics',
  '생활용품': 'Household',
  '식품': 'Food',
  '의류/신발': 'Apparel/Shoes',
  '자동차부품': 'Auto Parts',
  '불량/격리': 'Defect/Quarantine'
}

export function translateText(text: string, locale: Locale): string {
  if (locale === 'ko') return text

  let translated = text

  if (exactMap[translated]) {
    translated = exactMap[translated]
  }

  for (const [ko, en] of Object.entries(properNouns)) {
    translated = translated.split(ko).join(en)
  }

  for (const [pattern, replacement] of replacements) {
    translated = translated.replace(pattern, replacement)
  }

  for (const [ko, en] of Object.entries(exactMap)) {
    if (translated.includes(ko)) {
      translated = translated.split(ko).join(en)
    }
  }

  return translated
}
